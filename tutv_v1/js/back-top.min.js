var scrolltotop={setting:{startline:100,scrollto:0,scrollduration:1000,fadeduration:[500,100]},controlHTML:'<span class="back-top"><i class="fa fa-chevron-circle-up"></i></span>',controlattrs:{offsetx:20,offsety:10},anchorkeyword:'#top',state:{isvisible:false,shouldvisible:false},scrollup:function(){if(!this.cssfixedsupport)this.$control.css({opacity:0})var b=isNaN(this.setting.scrollto)?this.setting.scrollto:parseInt(this.setting.scrollto)if(typeof b=="string"&&jQuery('#'+b).length==1)b=jQuery('#'+b).offset().top else b=0 this.$body.animate({scrollTop:b},this.setting.scrollduration)},keepfixed:function(){var b=jQuery(window)var c=b.scrollLeft()+b.width()-this.$control.width()-this.controlattrs.offsetx var a=b.scrollTop()+b.height()-this.$control.height()-this.controlattrs.offsety this.$control.css({left:c+'px',top:a+'px'})},togglecontrol:function(){var b=jQuery(window).scrollTop()if(!this.cssfixedsupport)this.keepfixed()this.state.shouldvisible=(b>=this.setting.startline)?true:false if(this.state.shouldvisible&&!this.state.isvisible){this.$control.stop().animate({opacity:1},this.setting.fadeduration[0])this.state.isvisible=true}else if(this.state.shouldvisible==false&&this.state.isvisible){this.$control.stop().animate({opacity:0},this.setting.fadeduration[1])this.state.isvisible=false}},init:function(){jQuery(document).ready(function(c){var a=scrolltotop var d=document.all a.cssfixedsupport=!d||d&&document.compatMode=="CSS1Compat"&&window.XMLHttpRequest a.$body=(window.opera)?(document.compatMode=="CSS1Compat"?c('html'):c('body')):c('html,body')a.$control=c('<div id="topcontrol">'+a.controlHTML+'</div>').css({position:a.cssfixedsupport?'fixed':'absolute',bottom:a.controlattrs.offsety,right:a.controlattrs.offsetx,opacity:0,cursor:'pointer'}).attr({title:'Tr? lên d?u trang'}).click(function(){a.scrollup();return false}).appendTo('body')if(document.all&&!window.XMLHttpRequest&&a.$control.text()!='')a.$control.css({width:a.$control.width()})a.togglecontrol()c('a[href="'+a.anchorkeyword+'"]').click(function(){a.scrollup()return false})c(window).bind('scroll resize',function(b){a.togglecontrol()})})}}scrolltotop.init()